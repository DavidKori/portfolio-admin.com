import{r as a,f as c,j as e}from"./index-C7WPdw5Q.js";import{F as g}from"./FormField-OZDErJhu.js";import{u as N}from"./useToast-C8WnaF3s.js";/* empty css                */const C=()=>{const[h,l]=a.useState({bio:"",highlights:[""]}),[d,u]=a.useState(!0),[n,r]=a.useState(!1),{showSuccess:m,showError:b}=N();a.useEffect(()=>{p()},[]);const p=async()=>{try{const i=(await c.get()).data||h;l({bio:i.bio||"",highlights:i.highlights?.length>0?i.highlights:[""]})}catch(t){console.error("Failed to fetch about:",t)}finally{u(!1)}},j=(t,i)=>{l(s=>({...s,[t]:i}))},x=(t,i)=>{const s=[...h.highlights];s[t]=i,l(o=>({...o,highlights:s}))},f=()=>{l(t=>({...t,highlights:[...t.highlights,""]}))},v=t=>{if(h.highlights.length>1){const i=h.highlights.filter((s,o)=>o!==t);l(s=>({...s,highlights:i}))}},y=async t=>{t.preventDefault(),r(!0);const i={bio:h.bio,highlights:h.highlights.filter(s=>s.trim()!=="")};try{await c.update(i),m("About section updated successfully")}catch{b("Failed to update about section")}finally{r(!1)}};return d?e.jsx("div",{className:"section-loading",children:"Loading about section..."}):e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h1",{children:"About Section"}),e.jsx("p",{children:"Tell your story and highlight key achievements"})]}),e.jsxs("div",{className:"section-content",children:[e.jsx("div",{className:"form-card",children:e.jsxs("form",{onSubmit:y,children:[e.jsx(g,{label:"About Summary",value:h.bio,onChange:t=>j("bio",t),multiline:!0,rows:6,required:!0,placeholder:"Write a compelling summary about yourself, your journey, and what makes you unique...",helperText:"This will be the main about text on your portfolio"}),e.jsxs("div",{className:"highlights-section",children:[e.jsxs("label",{className:"form-label",children:["Key Highlights",e.jsx("span",{className:"helper-text",children:"(Bullet points that will stand out)"})]}),h.highlights.map((t,i)=>e.jsxs("div",{className:"highlight-input",children:[e.jsx(g,{value:t,onChange:s=>x(i,s),placeholder:`Highlight ${i+1} (e.g., "Built scalable applications for 50K+ users")`}),h.highlights.length>1&&e.jsx("button",{type:"button",className:"remove-btn",onClick:()=>v(i),title:"Remove highlight",children:"✕"})]},i)),e.jsx("button",{type:"button",className:"add-btn",onClick:f,children:"+ Add Another Highlight"})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"btn-primary",disabled:n,children:n?"Saving...":"Save About Section"})})]})}),e.jsxs("div",{className:"preview-section",children:[e.jsx("h2",{children:"Preview"}),e.jsxs("div",{className:"preview-card",children:[e.jsx("h3",{children:"About Me"}),e.jsx("p",{className:"preview-summary",children:h.bio||"Your about bio will appear here..."}),e.jsxs("div",{className:"preview-highlights",children:[e.jsx("h4",{children:"Key Highlights:"}),e.jsx("ul",{children:h.highlights.filter(t=>t.trim()!=="").map((t,i)=>e.jsxs("li",{children:["• ",t||`Highlight ${i+1}`]},i))})]})]})]})]})]})};export{C as default};
