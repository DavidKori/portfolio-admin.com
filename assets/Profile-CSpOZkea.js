import{r as o,e as t,j as e}from"./index-BsKevn0t.js";import{F as d}from"./FormField-BZwS9Ujl.js";import{M as u}from"./MediaUploader-DJVaDOro.js";import{u as w}from"./useToast-CHd64vW6.js";/* empty css                */const S=()=>{const[r,m]=o.useState({fullName:"",professionalTitle:"",tagline:"",heroImageUrl:"",profileImageUrl:""}),[f,g]=o.useState(!0),[p,h]=o.useState(!1),{showSuccess:n,showError:c}=w();o.useEffect(()=>{v()},[]);const v=async()=>{try{const a=await t.get();m(a.data||r)}catch(a){console.error("Failed to fetch profile:",a)}finally{g(!1)}},i=(a,s)=>{m(l=>({...l,[a]:s}))},x=async(a,s)=>{try{const l=await t.uploadImage(a);return i(s,l.data.url),n("Profile image uploaded successfully"),l.data}catch(l){throw c("Failed to upload image"),l}},j=async(a,s)=>{try{const l=await t.uploadHero(a);return i(s,l.data.url),n("Hero image uploaded successfully"),l.data}catch(l){throw c("Failed to upload image"),l}},N=async a=>{a.preventDefault(),h(!0);try{await t.update(r),n("Profile updated successfully")}catch{c("Failed to update profile")}finally{h(!1)}};return f?e.jsx("div",{className:"section-loading",children:"Loading profile..."}):e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h1",{children:"Profile Management"}),e.jsx("p",{children:"Update your personal information and images"})]}),e.jsxs("div",{className:"section-content",children:[e.jsx("div",{className:"form-card",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"grid-2",children:[e.jsx(d,{label:"Full Name",value:r.fullName||"",onChange:a=>i("fullName",a),required:!0,placeholder:"John Doe"}),e.jsx(d,{label:"Professional Title",value:r.professionalTitle||"",onChange:a=>i("professionalTitle",a),required:!0,placeholder:"Senior Full Stack Developer"})]}),e.jsx(d,{label:"Tagline / Short Bio",value:r.tagline||"",onChange:a=>i("tagline",a),multiline:!0,rows:2,placeholder:"Passionate developer creating amazing digital experiences",helperText:"Short tagline that appears below your name"}),e.jsxs("div",{className:"media-grid",children:[e.jsx(u,{label:"Hero Image (Large banner image)",onUpload:a=>j(a,"heroImageUrl"),accept:"image/*",existingUrl:r.heroImageUrl}),e.jsx(u,{label:"Profile Image (Your photo)",onUpload:a=>x(a,"profileImageUrl"),accept:"image/*",existingUrl:r.profileImageUrl})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":"Save Profile"})})]})}),e.jsxs("div",{className:"preview-section",children:[e.jsx("h2",{children:"Preview"}),e.jsxs("div",{className:"preview-card",children:[e.jsx("div",{className:"preview-hero",children:r.heroImageUrl?e.jsx("img",{src:r.heroImageUrl,alt:"Hero Preview"}):e.jsx("div",{className:"preview-placeholder",children:"Hero Image"})}),e.jsxs("div",{className:"preview-profile",children:[e.jsx("div",{className:"preview-avatar",children:r.profileImageUrl?e.jsx("img",{src:r.profileImageUrl,alt:"Profile"}):e.jsx("div",{className:"avatar-placeholder",children:r.fullName?.charAt(0)||"A"})}),e.jsxs("div",{className:"preview-info",children:[e.jsx("h3",{children:r.fullName||"My Name"}),e.jsx("p",{className:"preview-title",children:r.professionalTitle||"My Title"}),e.jsx("p",{className:"preview-tagline",children:r.tagline||"My tagline will appear here"})]})]})]})]})]})]})};export{S as default};
