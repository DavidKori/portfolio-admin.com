import{r as o,e as t,j as e}from"./index-DN2QgEtp.js";import{F as d}from"./FormField-BPRme1e3.js";import{M as u}from"./MediaUploader-WpIDh3c1.js";import{u as w}from"./useToast-C_6R7hpL.js";/* empty css                */const S=()=>{const[l,m]=o.useState({fullName:"",professionalTitle:"",tagline:"",heroImageUrl:"",profileImageUrl:""}),[g,f]=o.useState(!0),[p,h]=o.useState(!1),{showSuccess:n,showError:c}=w();o.useEffect(()=>{v()},[]);const v=async()=>{try{const a=await t.get();m(a.data||l),console.log(a.data)}catch(a){console.error("Failed to fetch profile:",a)}finally{f(!1)}},i=(a,s)=>{m(r=>({...r,[a]:s}))},x=async(a,s)=>{try{const r=await t.uploadImage(a);return i(s,r.data.url),n("Profile image uploaded successfully"),r.data}catch(r){throw c("Failed to upload image"),r}},j=async(a,s)=>{try{const r=await t.uploadHero(a);return i(s,r.data.url),n("Hero image uploaded successfully"),r.data}catch(r){throw c("Failed to upload image"),r}},N=async a=>{a.preventDefault(),h(!0);try{await t.update(l),n("Profile updated successfully")}catch{c("Failed to update profile")}finally{h(!1)}};return g?e.jsx("div",{className:"section-loading",children:"Loading profile..."}):e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h1",{children:"Profile Management"}),e.jsx("p",{children:"Update your personal information and images"})]}),e.jsxs("div",{className:"section-content",children:[e.jsx("div",{className:"form-card",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"grid-2",children:[e.jsx(d,{label:"Full Name",value:l.fullName||"",onChange:a=>i("fullName",a),required:!0,placeholder:"John Doe"}),e.jsx(d,{label:"Professional Title",value:l.professionalTitle||"",onChange:a=>i("professionalTitle",a),required:!0,placeholder:"Senior Full Stack Developer"})]}),e.jsx(d,{label:"Tagline / Short Bio",value:l.tagline||"",onChange:a=>i("tagline",a),multiline:!0,rows:2,placeholder:"Passionate developer creating amazing digital experiences",helperText:"Short tagline that appears below your name"}),e.jsxs("div",{className:"media-grid",children:[e.jsx(u,{label:"Hero Image (Large banner image)",onUpload:a=>j(a,"heroImageUrl"),accept:"image/*",existingUrl:l.heroImageUrl}),e.jsx(u,{label:"Profile Image (Your photo)",onUpload:a=>x(a,"profileImageUrl"),accept:"image/*",existingUrl:l.profileImageUrl})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":"Save Profile"})})]})}),e.jsxs("div",{className:"preview-section",children:[e.jsx("h2",{children:"Preview"}),e.jsxs("div",{className:"preview-card",children:[e.jsx("div",{className:"preview-hero",children:l.heroImageUrl?e.jsx("img",{src:l.heroImageUrl,alt:"Hero Preview"}):e.jsx("div",{className:"preview-placeholder",children:"Hero Image"})}),e.jsxs("div",{className:"preview-profile",children:[e.jsx("div",{className:"preview-avatar",children:l.profileImageUrl?e.jsx("img",{src:l.profileImageUrl,alt:"Profile"}):e.jsx("div",{className:"avatar-placeholder",children:l.fullName?.charAt(0)||"A"})}),e.jsxs("div",{className:"preview-info",children:[e.jsx("h3",{children:l.fullName||"My Name"}),e.jsx("p",{className:"preview-title",children:l.professionalTitle||"My Title"}),e.jsx("p",{className:"preview-tagline",children:l.tagline||"My tagline will appear here"})]})]})]})]})]})]})};export{S as default};
