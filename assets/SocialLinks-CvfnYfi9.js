import{r as l,q as c,j as s}from"./index-BsKevn0t.js";import{F as y}from"./FormField-BZwS9Ujl.js";import{C as R}from"./ConfirmModal-hy6Da3yH.js";import{u as T}from"./useToast-CHd64vW6.js";import{S as v}from"./constants-Dviao9AH.js";import{b as O}from"./validators-BHQTkbpi.js";/* empty css                */const G=()=>{const[L,n]=l.useState([]),[o,N]=l.useState(null),[g,i]=l.useState(!1),[U,w]=l.useState(!0),[D,d]=l.useState(!1),[m,k]=l.useState(null),[u,f]=l.useState({}),{showSuccess:p,showError:h}=T(),[r,x]=l.useState({platform:"",url:"",iconUrl:""});l.useEffect(()=>{F()},[]);const F=async()=>{try{const e=await c.getAll();n(e.data||[])}catch(e){console.error("Failed to fetch social links:",e)}finally{w(!1)}},j=(e,t)=>{x(a=>({...a,[e]:t})),u[e]&&f(a=>({...a,[e]:""}))},E=()=>{const e={};return r.platform||(e.platform="Platform is required"),r.url?O(r.url)||(e.url="Please enter a valid URL"):e.url="URL is required",f(e),Object.keys(e).length===0},A=async e=>{if(e.preventDefault(),!E()){h("Please fix the errors in the form");return}try{if(o){const t=await c.update(o._id,r);n(a=>a.map(C=>C._id===o._id?t.data:C)),p("Social link updated successfully")}else{const t=await c.create(r);n(a=>[...a,t.data]),p("Social link added successfully")}S(),i(!1)}catch{h("Failed to save social link")}},_=e=>{N(e),x({platform:e.platform,url:e.url,iconUrl:e.iconUrl||""}),i(!0)},P=async()=>{if(m)try{await c.delete(m._id),n(e=>e.filter(t=>t._id!==m._id)),p("Social link deleted successfully")}catch{h("Failed to delete social link")}finally{k(null),d(!1)}},S=()=>{x({platform:"",url:"",iconUrl:""}),N(null),f({})},b=e=>{const t=v.find(a=>a.value===e);return t?t.iconUrl?t.iconUrl:t.icon:"ðŸ”—"};return U?s.jsx("div",{className:"section-loading",children:"Loading social links..."}):s.jsxs("div",{className:"section-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h1",{children:"Social Links"}),s.jsx("p",{children:"Manage your social media and professional profile links"})]}),s.jsxs("div",{className:"section-content",children:[s.jsx("div",{className:"section-actions",children:s.jsx("button",{className:"btn-primary",onClick:()=>{S(),i(!0)},children:"+ Add Social Link"})}),g&&s.jsxs("div",{className:"form-card",children:[s.jsx("h2",{children:o?"Edit Social Link":"Add New Social Link"}),s.jsxs("form",{onSubmit:A,children:[s.jsx(y,{label:"Platform",type:"select",value:r.platform,onChange:e=>j("platform",e),options:v.map(e=>({value:e.value,label:`${e.icon} ${e.label}`})),required:!0,error:u.platform}),s.jsx(y,{label:"Profile URL",type:"url",value:r.url,onChange:e=>j("url",e),placeholder:"https://github.com/username",required:!0,error:u.url,helperText:"Enter your full profile URL"}),s.jsx(y,{label:"Custom Icon URL (Optional)",type:"url",value:r.iconUrl,onChange:e=>j("iconUrl",e),placeholder:"https://example.com/icon.png",helperText:"Optional: Custom icon URL. Leave blank to use platform default."}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{i(!1),S()},children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn-primary",children:o?"Update":"Create"})]})]})]}),s.jsx("div",{className:"items-grid",children:L.map(e=>{const t=v.find(a=>a.value===e.platform);return s.jsxs("div",{className:"item-card social-card",children:[s.jsx("div",{className:"social-icon",children:e.iconUrl?s.jsx("img",{src:e.iconUrl,alt:e.platform}):s.jsx("span",{className:"platform-icon",children:b(e.platform).length<10?b(e.platform):s.jsx("img",{src:b(e.platform),alt:e.platform})})}),s.jsxs("div",{className:"item-content",children:[s.jsx("h3",{className:"item-title",children:t?t.label:e.platform}),s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"social-url",children:e.url}),s.jsxs("div",{className:"item-actions",children:[s.jsx("button",{className:"btn-edit",onClick:()=>_(e),children:"Edit"}),s.jsx("button",{className:"btn-delete",onClick:()=>{k(e),d(!0)},children:"Delete"})]})]})]},e._id)})}),L.length===0&&!g&&s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:"ðŸ”—"}),s.jsx("h3",{children:"No Social Links Yet"}),s.jsx("p",{children:"Add your social media and professional profile links"}),s.jsx("button",{className:"btn-primary",onClick:()=>i(!0),children:"Add First Social Link"})]})]}),s.jsx(R,{isOpen:D,onClose:()=>d(!1),onConfirm:P,title:"Delete Social Link",message:"Are you sure you want to delete this social link? This action cannot be undone.",confirmText:"Delete Social Link"})]})};export{G as default};
