import{r as c,s as y,j as e,L as H}from"./index-oJNRt4ru.js";import{F as r}from"./FormField-BDRa3sq8.js";import{C as V}from"./ConfirmModal-CRzLWbSk.js";import{u as z}from"./useToast-C6tjpuCn.js";/* empty css                */const Q=[{value:"Frontend",label:"Frontend"},{value:"Backend",label:"Backend"},{value:"Database",label:"Database"},{value:"Tools",label:"Tools"},{value:"Other",label:"Other"}],W=[{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Advanced",label:"Advanced"},{value:"Expert",label:"Expert"}],x={Frontend:[{name:"React",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/react.svg"},{name:"Vue.js",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/vuedotjs.svg"},{name:"Angular",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/angular.svg"},{name:"JavaScript",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/javascript.svg"},{name:"TypeScript",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/typescript.svg"},{name:"HTML5",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/html5.svg"},{name:"CSS3",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/css3.svg"},{name:"Sass",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/sass.svg"},{name:"Tailwind CSS",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/tailwindcss.svg"}],Backend:[{name:"Node.js",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/nodedotjs.svg"},{name:"Express",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/express.svg"},{name:"Python",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/python.svg"},{name:"Django",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/django.svg"},{name:"Java",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/java.svg"},{name:"Spring",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/spring.svg"},{name:"PHP",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/php.svg"},{name:"Laravel",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/laravel.svg"},{name:"Ruby",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/ruby.svg"},{name:"Rails",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/rubyonrails.svg"},{name:"Go",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/go.svg"}],Database:[{name:"MongoDB",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/mongodb.svg"},{name:"MySQL",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/mysql.svg"},{name:"PostgreSQL",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/postgresql.svg"},{name:"Redis",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/redis.svg"},{name:"SQLite",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/sqlite.svg"},{name:"Firebase",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/firebase.svg"}],Tools:[{name:"Git",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/git.svg"},{name:"GitHub",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/github.svg"},{name:"Docker",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/docker.svg"},{name:"AWS",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/amazonaws.svg"},{name:"Azure",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/microsoftazure.svg"},{name:"Heroku",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/heroku.svg"},{name:"Nginx",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/nginx.svg"},{name:"Webpack",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/webpack.svg"},{name:"Vite",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/vite.svg"}],Other:[{name:"Figma",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/figma.svg"},{name:"Photoshop",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/adobephotoshop.svg"},{name:"Illustrator",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/adobeillustrator.svg"},{name:"Linux",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/linux.svg"}]},ee=()=>{const[I,d]=c.useState([]),[h,S]=c.useState(null),[C,m]=c.useState(!1),[T,U]=c.useState(!0),[E,b]=c.useState(!1),[k,w]=c.useState(null),[N,p]=c.useState(!1),{showSuccess:f,showError:g}=z(),[a,v]=c.useState({name:"",category:"",level:"",iconUrl:""});c.useEffect(()=>{M()},[]);const M=async()=>{try{const s=await y.getAll();d(Array.isArray(s?.data)?s.data:[])}catch(s){console.error("Failed to fetch skills:",s),g("Failed to load skills"),d([])}finally{U(!1)}},u=(s,t)=>{const n={...a,[s]:t};if(s==="name"&&t&&n.category){const l=(x[n.category]||[]).find(o=>o.name.toLowerCase()===t.toLowerCase());l&&!n.iconUrl&&(n.iconUrl=l.icon)}if(s==="category"&&t&&n.name){const l=(x[t]||[]).find(o=>o.name.toLowerCase()===n.name.toLowerCase());l&&!n.iconUrl&&(n.iconUrl=l.icon)}v(n)},O=async s=>{s.preventDefault();try{if(h){const t=await y.update(h._id,a);d(n=>n.map(i=>i._id===h._id?t.data:i)),f("Skill updated successfully")}else{const t=await y.create(a);d(n=>[...n,t.data]),f("Skill added successfully")}j(),m(!1)}catch(t){console.error("Failed to save skill:",t),g("Failed to save skill")}},B=async()=>{if(!a.name||!a.category){g("Please enter skill name and category");return}const s=a.name.split(`
`).map(l=>l.trim()).filter(l=>l),t=a.category.split(`
`).map(l=>l.trim()).filter(l=>l),n=a.level?a.level.split(`
`).map(l=>l.trim()).filter(l=>l):[],i=s.map((l,o)=>{const L=t[o]||t[0]||"Other",q=n[o]||n[0]||"Intermediate";let F="";const D=(x[L]||[]).find(G=>G.name.toLowerCase()===l.toLowerCase());return D&&(F=D.icon),{name:l,category:L,level:q,iconUrl:F}});try{const l=await y.bulkCreate(i);d(o=>[...o,...Array.isArray(l.data)?l.data:[]]),f(`${i.length} skills created successfully`),j(),p(!1)}catch(l){console.error("Failed to bulk create skills:",l),g("Failed to create skills")}},_=s=>{S(s),v({name:s.name||"",category:s.category||"",level:s.level||"",iconUrl:s.iconUrl||""}),m(!0),p(!1)},P=async()=>{if(k)try{await y.delete(k._id),d(s=>s.filter(t=>t._id!==k._id)),f("Skill deleted successfully")}catch(s){console.error("Failed to delete skill:",s),g("Failed to delete skill")}finally{w(null),b(!1)}},j=()=>{v({name:"",category:"",level:"",iconUrl:""}),S(null)},A=I.reduce((s,t)=>{const n=t.category||"Other";return s[n]||(s[n]=[]),s[n].push(t),s},{}),R=s=>{if(!s)return"#9e9e9e";switch(s.toLowerCase()){case"beginner":return"#4caf50";case"intermediate":return"#ff9800";case"advanced":return"#2196f3";case"expert":return"#9c27b0";default:return"#9e9e9e"}};return T?e.jsx(H,{text:"Loading skills..."}):e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h1",{children:"Skills Management"}),e.jsx("p",{children:"Manage your technical and professional skills"})]}),e.jsxs("div",{className:"section-content",children:[e.jsxs("div",{className:"section-actions",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{p(!N),m(!1),j()},children:N?"Single Mode":"Bulk Mode"}),e.jsx("button",{className:"btn-primary",onClick:()=>{p(!1),m(!0),j()},children:"+ Add New Skill"})]}),N?e.jsxs("div",{className:"form-card",children:[e.jsx("h2",{children:"Bulk Create Skills"}),e.jsx("p",{className:"helper-text",children:"Enter skill names (one per line) and optionally categories/levels (also one per line)."}),e.jsx(r,{label:"Skill Names (one per line)",value:a.name,onChange:s=>v(t=>({...t,name:s})),multiline:!0,rows:6,placeholder:"React\\nVue.js\\nTypeScript\\nNode.js\\nMongoDB",helperText:"Each line will become a separate skill"}),e.jsx(r,{label:"Categories (one per line, optional)",value:a.category,onChange:s=>v(t=>({...t,category:s})),multiline:!0,rows:3,placeholder:"Frontend\\nFrontend\\nFrontend\\nBackend\\nDatabase",helperText:"Match each skill with a category, or use first category for all"}),e.jsx(r,{label:"Levels (one per line, optional)",value:a.level,onChange:s=>v(t=>({...t,level:s})),multiline:!0,rows:3,placeholder:"Advanced\\nIntermediate\\nAdvanced\\nAdvanced\\nIntermediate",helperText:"Match each skill with a level, or use first level for all"}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:B,children:"Create All Skills"})]})]}):C&&e.jsxs("div",{className:"form-card",children:[e.jsx("h2",{children:h?"Edit Skill":"Add New Skill"}),e.jsxs("form",{onSubmit:O,children:[e.jsx(r,{label:"Skill Name",value:a.name,onChange:s=>u("name",s),required:!0,placeholder:"e.g., React, Node.js, MongoDB"}),e.jsxs("div",{className:"grid-2",children:[e.jsx(r,{label:"Category",type:"select",value:a.category,onChange:s=>u("category",s),options:Q,required:!0}),e.jsx(r,{label:"Proficiency Level",type:"select",value:a.level,onChange:s=>u("level",s),options:W,placeholder:"Select level"})]}),e.jsx(r,{label:"Icon URL (Optional)",type:"url",value:a.iconUrl,onChange:s=>u("iconUrl",s),placeholder:"https://example.com/icon.svg",helperText:e.jsxs("span",{children:["URL to skill icon (e.g., from ",e.jsx("a",{href:"https://simpleicons.org/",target:"_blank",rel:"noopener noreferrer",children:"Simple Icons"}),"). We'll auto-suggest based on skill name."]})}),a.name&&a.category&&x[a.category]&&e.jsxs("div",{className:"icon-suggestions",children:[e.jsxs("p",{className:"helper-text",children:["Suggested icons for ",a.category,":"]}),e.jsx("div",{className:"icon-grid",children:x[a.category].filter(s=>s.name.toLowerCase().includes(a.name.toLowerCase())||a.name.toLowerCase().includes(s.name.toLowerCase())).slice(0,5).map((s,t)=>e.jsxs("button",{type:"button",className:`icon-suggestion ${a.iconUrl===s.icon?"selected":""}`,onClick:()=>u("iconUrl",s.icon),children:[e.jsx("img",{src:s.icon,alt:s.name}),e.jsx("span",{children:s.name})]},t))})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{m(!1),j()},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:h?"Update Skill":"Add Skill"})]})]})]}),Object.keys(A).length>0?e.jsx("div",{className:"skills-by-category",children:Object.entries(A).map(([s,t])=>e.jsxs("div",{className:"category-section",children:[e.jsxs("h2",{className:"category-title",children:[s," ",e.jsxs("span",{className:"category-count",children:["(",t.length,")"]})]}),e.jsx("div",{className:"skills-grid",children:t.map(n=>e.jsxs("div",{className:"skill-card",children:[e.jsxs("div",{className:"skill-header",children:[n.iconUrl?e.jsx("img",{src:n.iconUrl,alt:n.name,className:"skill-icon",onError:i=>{i.target.style.display="none";const l=i.target.nextElementSibling;l&&(l.style.display="flex")}}):null,e.jsx("div",{className:"skill-icon-fallback",style:{display:n.iconUrl?"none":"flex"},children:n.name?n.name.charAt(0):"?"}),e.jsxs("div",{className:"skill-info",children:[e.jsx("h3",{className:"skill-name",children:n.name}),n.level&&e.jsx("span",{className:"skill-level",style:{backgroundColor:R(n.level)},children:n.level})]})]}),e.jsxs("div",{className:"skill-meta",children:[e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Category:"})," ",n.category]}),e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Added:"})," ",n.createdAt||n.updatedAt?new Date(n.createdAt||n.updatedAt).toLocaleDateString():"N/A"]})]}),e.jsxs("div",{className:"skill-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>_(n),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>{w(n),b(!0)},children:"Delete"})]})]},n._id||n.id))})]},s))}):!C&&e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"âš¡"}),e.jsx("h3",{children:"No Skills Yet"}),e.jsx("p",{children:"Add your skills to showcase your expertise"}),e.jsx("button",{className:"btn-primary",onClick:()=>{p(!1),m(!0)},children:"Add First Skill"})]})]}),e.jsx(V,{isOpen:E,onClose:()=>b(!1),onConfirm:P,title:"Delete Skill",message:"Are you sure you want to delete this skill? This action cannot be undone.",confirmText:"Delete Skill"})]})};export{ee as default};
