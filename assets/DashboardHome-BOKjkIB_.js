import{r as c,c as x,m as g,p,j as s,L as N,d as l}from"./index-BsKevn0t.js";const b=()=>{const[a,i]=c.useState({messages:0,projects:0,unreadMessages:0,recentMessages:[]}),[r,d]=c.useState(!0),{isDark:u}=x();c.useEffect(()=>{o()},[]);const o=async()=>{try{const[e,h]=await Promise.all([g.getAll(),p.getAll()]),t=e.data||[],m=h.data||[];i({messages:t.length,projects:m.length,unreadMessages:t.filter(j=>!j.read).length,recentMessages:t.slice(0,5)})}catch(e){console.error("Failed to fetch dashboard data:",e),i({messages:0,projects:0,unreadMessages:0,recentMessages:[]})}finally{d(!1)}},n=[{to:"/dashboard/profile",label:"Update Profile",icon:"ðŸ‘¤"},{to:"/dashboard/projects",label:"Add Project",icon:"âž•"},{to:"/dashboard/messages",label:"View Messages",icon:"âœ‰ï¸"},{to:"/dashboard/blogs",label:"Write Blog",icon:"ðŸ“"}];return r?s.jsx(N,{text:"Loading dashboard data..."}):s.jsxs("div",{className:"dashboard-home",children:[s.jsxs("div",{className:"dashboard-header",children:[s.jsx("h1",{children:"Welcome back, Admin"}),s.jsx("p",{children:"Manage your professional portfolio from here"})]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"ðŸ“Š"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Total Projects"}),s.jsx("p",{className:"stat-number",children:a.projects})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"âœ‰ï¸"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Messages"}),s.jsx("p",{className:"stat-number",children:a.messages}),a.unreadMessages>0&&s.jsxs("span",{className:"unread-badge",children:[a.unreadMessages," new"]})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"ðŸš€"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Quick Actions"}),s.jsx("p",{className:"stat-number",children:n.length})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon",children:"ðŸ“ˆ"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("h3",{children:"Portfolio Views"}),s.jsx("p",{className:"stat-number",children:"Coming Soon"})]})]})]}),s.jsxs("div",{className:"dashboard-sections",children:[s.jsxs("div",{className:"section quick-actions",children:[s.jsx("h2",{children:"Quick Actions"}),s.jsx("div",{className:"quick-links",children:n.map(e=>s.jsxs(l,{to:e.to,className:"quick-link",children:[s.jsx("span",{className:"quick-link-icon",children:e.icon}),s.jsx("span",{children:e.label})]},e.to))})]}),s.jsxs("div",{className:"section recent-activity",children:[s.jsx("h2",{children:"Recent Messages"}),s.jsx("div",{className:"activity-list",children:a.recentMessages.length>0?a.recentMessages.map(e=>s.jsxs("div",{className:"activity-item",children:[s.jsx("div",{className:"activity-icon",children:"ðŸ“©"}),s.jsxs("div",{className:"activity-content",children:[s.jsx("p",{className:"activity-title",children:e.name||"Unknown"}),s.jsx("p",{className:"activity-text",children:e.message?e.message.substring(0,60)+(e.message.length>60?"...":""):"No message content"}),s.jsx("span",{className:"activity-time",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown date"})]})]},e._id)):s.jsx("p",{className:"no-activity",children:"No recent messages"})}),a.recentMessages.length>0&&s.jsx(l,{to:"/dashboard/messages",className:"view-all-link",children:"View all messages â†’"})]})]}),s.jsxs("div",{className:"dashboard-tips",children:[s.jsx("h3",{children:"ðŸ’¡ Pro Tips"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Keep your profile information up-to-date"}),s.jsx("li",{children:"Upload high-quality images for projects"}),s.jsx("li",{children:"Regularly check and respond to messages"}),s.jsx("li",{children:"Use tags to categorize your skills and projects"})]})]})]})};export{b as default};
